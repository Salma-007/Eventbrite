<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <script src="https://cdn.tailwindcss.com"></script>
 <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
 <script src="https://www.paypal.com/sdk/js?client-id=AWbqbCGeUdX-plDTp-Bsy_12rPTmg9S4kg2NEHsFEd4-SuGRhIJX_w-GeAjmuOoqrFJshCCwQEmFFGQK"></script>


 <style>
 @keyframes fadeIn {
 from { opacity: 0; transform: translateY(20px); }
 to { opacity: 1; transform: translateY(0); }
 }
 .animate-fadeIn {
 animation: fadeIn 1s ease-out;
 }
 .hover-glow:hover {
 filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.7));
 }
 </style>
 <style>
 .swiper {
 width: 100%;
 height: 92vh;
 }

 .swiper-slide {
 text-align: center;
 font-size: 18px;
 background: #fff;
 display: flex;
 justify-content: center;
 align-items: center;
 }

 </style>
 <style>
 body.no-scroll {
 overflow: hidden;
 }
 </style>
 <title>Eventbrite</title>
</head>
<body>
 <header class="bg-yellow-500">
 <?php echo $this->runChild('front.partials.nav'); ?>
 </header>

 <main class="main-content position-relative border-radius-lg">
 <?php echo $this->yieldContent('content'); ?>

 </main>


 <script src="../../../assets/js/script.js"></script>
 <!-- pour paeiment par paypaaaaaaal -->
 <script src="https://www.paypal.com/sdk/js?client-id=AWbqbCGeUdX-plDTp-Bsy_12rPTmg9S4kg2NEHsFEd4-SuGRhIJX_w-GeAjmuOoqrFJshCCwQEmFFGQK"></script>
<script>
 function openSelectionModal(type, eventId) {
 document.getElementById('selectionModal').classList.remove('hidden');
 document.getElementById('quantity').value = 1; // Remise à 1 par défaut
 document.getElementById('totalPriceSection').classList.add('hidden'); // Masquer le prix total
 document.getElementById('selectedEventId').value = eventId;
 document.getElementById('selectedType').value = type;
 }

 function closeSelectionModal() {
 document.getElementById('selectionModal').classList.add('hidden');
 }

 // Récupérer le prix de l'événement à partir de PHP
 const eventPrice = <?= $eventById['prix'] ?>;

 document.getElementById('quantity').addEventListener('input', function() {
 const quantity = this.value;
 const totalPrice = eventPrice * quantity;
 document.getElementById('totalPrice').textContent = totalPrice.toFixed(2); // Afficher le prix total
 document.getElementById('totalPriceSection').classList.remove('hidden'); // Afficher la section du prix
 });

 function confirmSelection() {
 const quantity = document.getElementById('quantity').value;
 const eventId = document.getElementById('selectedEventId').value;
 const type = document.getElementById('selectedType').value;

 // Pour les événements payants, on redirige vers la page de paiement
 if (type === 'payant') {
 window.location.href = '/payment/payment?event_id=' + eventId + '&quantity=' + quantity;
 } else {
 // Pour les événements gratuits, on soumet le formulaire
 const form = document.getElementById('freeReservationForm');
 form.submit();
 }
 }

 function closeModal() {
 document.getElementById('paymentModal').classList.add('hidden');
 }
</script>

 <?php echo $this->runChild('front.partials.footer'); ?>
 <?php echo $this->yieldContent('scripts'); ?>
 
</body>
</html>